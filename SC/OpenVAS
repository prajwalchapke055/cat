# ğŸ“Œ **ğŸ”’ OpenVAS (GVM) Practical â€” Full Lab Setup**

---

# **Practical: Install & Run OpenVAS via Docker**

## âš™ï¸ **Step 1ï¸âƒ£ â€” Update Your System**

```bash
sudo apt update
sudo apt upgrade -y
```

---

## âš™ï¸ **Step 2ï¸âƒ£ â€” Install Docker**

```bash
sudo apt install -y docker.io
```

Check that Docker is installed:

```bash
docker --version
```

âœ… You should see: `Docker version xx.xx.xx, build xxxxx`

---

## âš™ï¸ **Step 3ï¸âƒ£ â€” Pull & Run OpenVAS Container**

Run this **one-liner**:

```bash
sudo docker run -d -p 443:443 --name openvas mikesplain/openvas
```

âœ… What this does:

- `-d` â†’ Detached mode.
- `-p 443:443` â†’ Maps containerâ€™s HTTPS port to your local 443.
- `--name openvas` â†’ Names the container â€œopenvasâ€.
- `mikesplain/openvas` â†’ Uses a trusted pre-built OpenVAS image from Docker Hub.

---

## âš™ï¸ **Step 4ï¸âƒ£ â€” Check Container Status**

```bash
sudo docker ps
```

âœ… Look for: `openvas` â€” `Up` â†’ means running.

---

## âš™ï¸ **Step 5ï¸âƒ£ â€” Access OpenVAS Web UI**

Open your browser â†’ go to:

```
https://127.0.0.1
```

or

```
https://localhost
```

âœ… Accept any browser SSL warning (self-signed cert).

---

## âš™ï¸ **Step 6ï¸âƒ£ â€” Login**

- **Username:** `admin`
- **Password:** `admin`

_(This is default for the `mikesplain/openvas` image â€” change it inside the UI for security.)_

---

## âš™ï¸ **Step 7ï¸âƒ£ â€” Start Scanning**

1ï¸âƒ£ Click **Scans â†’ Tasks â†’ Wizard**
2ï¸âƒ£ Enter a **target IP or hostname**
3ï¸âƒ£ Start the scan
4ï¸âƒ£ View results in the dashboard

---

## âš™ï¸ **Common Docker Commands**

ğŸ‘‰ **Stop OpenVAS:**

```bash
sudo docker stop openvas
```

ğŸ‘‰ **Start OpenVAS again:**

```bash
sudo docker start openvas
```

ğŸ‘‰ **View logs:**

```bash
sudo docker logs -f openvas
```

ğŸ‘‰ **Remove container:**

```bash
sudo docker rm -f openvas
```

ğŸ‘‰ **Pull latest image:**

```bash
sudo docker pull mikesplain/openvas
```

---

## âœ… **Bonus: Save a Custom Password**

Inside the OpenVAS web UI:

- Go to `Administration â†’ Users â†’ admin â†’ Edit`
- Change the password.

##########################################################

## âœ… **STEP 1ï¸âƒ£ â€” Update & Upgrade Kali**

```bash
# Become root for fewer sudo prompts
sudo -s

# Update package lists
apt update

# Upgrade existing packages
apt upgrade -y

# Full distribution upgrade for dependencies
apt dist-upgrade -y

# Reboot if any major upgrades
reboot
```

---

## âœ… **STEP 2ï¸âƒ£ â€” Install OpenVAS / GVM**

```bash
# Install Greenbone Vulnerability Manager (same as OpenVAS)
apt install -y gvm
```

---

## âœ… **STEP 3ï¸âƒ£ â€” Run Initial Setup**

```bash
# Initialize GVM: downloads feeds, sets up services, creates admin account
gvm-setup
```

âš ï¸ **NOTE:**

- This will take **5â€“15+ minutes** â€” it downloads thousands of NVTs, SCAP, CERT data.
- At the end, it shows your **admin username** and an **auto-generated password**.
  **ğŸ‘‰ SAVE THIS PASSWORD!**

---

## âœ… **STEP 4ï¸âƒ£ â€” Verify Installation**

```bash
# Check everything is properly configured
gvm-check-setup
```

âœ… If you see: `It seems like your GVM-22 installation is OK.`, youâ€™re good!

---

## âœ… **STEP 5ï¸âƒ£ â€” (Optional) Reset Admin Password**

Lost your password? Reset it:

```bash
# Use gvmd to reset admin password
gvmd --user=admin --new-password=MyNewSecurePassword123
```

Or create a **new admin user**:

```bash
# Replace 'admin2' and 'MyNewPassword'
runuser -u _gvm -- gvmd --create-user=admin2 --password=MyNewPassword
```

---

## âœ… **STEP 6ï¸âƒ£ â€” Start OpenVAS / GVM Services**

```bash
# Start all GVM services
gvm-start
```

- âœ… This will start **gvmd**, **ospd-openvas**, **redis**, and **gsad**.
- âœ… `gsad` is the **Greenbone Security Assistant Web UI** (Web portal).

---

## âœ… **STEP 7ï¸âƒ£ â€” Access OpenVAS Web Interface**

- Open your browser and visit:

  ```
  https://localhost:9392
  ```

- Accept the self-signed SSL warning â†’ Continue.
- Login with your `admin` and the password you saved.

---

## âœ… **STEP 8ï¸âƒ£ â€” First Scan: Quick Localhost Test**

1ï¸âƒ£ In the web UI â†’ Go to:

```
Scans â†’ Tasks â†’ Click Magic Wand (Task Wizard)
```

2ï¸âƒ£ Enter `127.0.0.1` (or your target IP)

3ï¸âƒ£ Click **Start Scan**

4ï¸âƒ£ Wait for the scan to finish â†’ View results on Dashboard.

---

## âœ… **STEP 9ï¸âƒ£ â€” Create a Custom Scan Target**

1ï¸âƒ£ In the web UI â†’ **Configuration â†’ Targets â†’ Create Target**

- Name: `TestTarget`
- Hosts: `192.168.1.100` _(example target IP)_
- Leave rest as default â†’ Save.

---

## âœ… **STEP ğŸ”Ÿ â€” Create & Run a Custom Task**

1ï¸âƒ£ In the web UI â†’ **Scans â†’ Tasks â†’ New Task**

- Name: `My First Custom Scan`
- Target: `TestTarget`
- Scanner: `OpenVAS Default`
- Scan Config: `Full and Fast` (or as needed)

2ï¸âƒ£ Save & Click Play â–¶ï¸ to start the task.

3ï¸âƒ£ Watch status â†’ Review report when done.

---

## âœ… **STEP 1ï¸âƒ£1ï¸âƒ£ â€” Stop OpenVAS Services**

To save system resources when done:

```bash
# Stop all GVM services
gvm-stop
```

---

## âœ… **Fix Common Issues**

ğŸ‘‰ **If `SCAP DATA MISSING` or `CERT DATA MISSING`**
Re-run feed updates:

```bash
# Update feeds
greenbone-nvt-sync
greenbone-feed-sync --type SCAP
greenbone-feed-sync --type CERT

# Restart services
gvm-start
```

---

## âœ… **Check OpenVAS Status**

```bash
# Check GVM status
gvm-check-setup

# Or check service status directly
systemctl status gvmd
systemctl status ospd-openvas
systemctl status gsad
```

---

## âœ… **Useful Folders**

| Purpose          | Path                        |
| ---------------- | --------------------------- |
| Feed Data (NVTs) | `/var/lib/openvas/plugins/` |
| GVM Data         | `/var/lib/gvm/`             |
| Config Files     | `/etc/gvm/`                 |
| Logs             | `/var/log/gvm/`             |

---

## âœ… **Access Web Portal from Remote**

ğŸ”’ If you want to access the web UI externally, bind `gsad` to `0.0.0.0`:

```bash
# Example: bind to all interfaces on port 9392
gsad --listen=0.0.0.0 --port=9392
```

---

## âœ… **REFERENCE**

**Docs:**

- [Official Greenbone Docs](https://greenbone.github.io/docs/)
- [OpenVAS Setup Cheatsheet](https://kifarunix.com/how-to-install-openvas-on-kali-linux/)

* Reference Link :
  - https://medium.com/@kennithlowy/installing-openvas-step-by-step-guide-0aa83239a34b
  - https://hassen-hannachi.medium.com/installing-openvas-on-kali-linux-a54baeaf806a

---
